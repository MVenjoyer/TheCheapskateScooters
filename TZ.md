# Техническое задание на систему аренды самокатов "TheCheapskateScooters"

## 1. Введение

### 1.1. Наименование проекта:
Система аренды тематических самокатов "TheCheapskateScooters" (далее – Система).

### 1.2. Цель проекта:
Обеспечение удобного и эффективного процесса аренды самокатов с уникальным дизайном для конечных пользователей и административного управления для владельцев бизнеса.

### 1.3. Описание проекта:
Система представляет собой веб-приложение, которое позволяет пользователям находить доступные самокаты на интерактивной карте, осуществлять их аренду и управлять своими арендами. Для администраторов система предоставляет инструменты управления парком самокатов, точками аренды и пользователями.

## 2. Термины и определения

*   **Точка аренды (ScooterPoint)** – физическое место расположения стойки или парковки с самокатами, имеющее название, адрес и географические координаты.
*   **Самокат (Scooter)** – индивидуальная единица транспорта с уникальным идентификатором, моделью, статусом доступности и привязкой к точке аренды. Может иметь уникальный тематический дизайн.
*   **Аренда (Rental)** – запись о факте аренды самоката пользователем, содержащая информацию о пользователе, самокате, времени начала и окончания аренды.
*   **Активная аренда** – аренда, в процессе которой самокат находится у пользователя (статус самоката "арендован").
*   **Завершенная аренда** – аренда, которая была завершена пользователем или администратором, самокат возвращен в точку аренды.
*   **Статус самоката** – определяет текущее состояние самоката (например, "Доступен", "Арендован").
*   **Геокодирование** – процесс преобразования географических координат (широта, долгота) в читаемый адрес и обратно.

## 3. Требования к пользователям и ролям

Система должна предусматривать два типа пользователей (ролей):

1.  **Клиент (Пользователь):**
    *   Регистрация и аутентификация в системе.
    *   Просмотр интерактивной карты с отображением всех точек аренды.
    *   Просмотр списка самокатов в конкретной точке аренды.
    *   Аренда доступного самоката.
    *   Просмотр списка своих активных и завершенных аренд.
    *   Завершение (отмена) активной аренды.
    *   Просмотр детальной информации о своих арендах (история).

2.  **Администратор:**
    *   Управление пользователями (просмотр списка, блокировка).
    *   Управление точками аренды (добавление, редактирование, удаление).
    *   Управление парком самокатов (добавление, редактирование статуса, привязка к точке).
    *   Просмотр всех аренд в системе с возможностью фильтрации.
    *   Модерация тематических дизайнов самокатов (для будущих версий).
    *   Просмотр базовой отчетности (статистика аренд за период).

## 4. Функциональные требования

### 4.1. Модуль карты и точек аренды
*   На главной странице системы должна отображаться меню с пунктами "Мои аренды" и "Карта"(Яндекс.Карты API).
*   На карте должны отображаться все точки аренды, загруженные из системы.
*   При клике на точку аренды на карте должен открываться информационный балун, содержащий:
    *   Название точки аренды.
    *   Количество доступных самокатов в этой точке.
    *   Кнопку для перехода на детальную страницу точки.
*   Должен быть реализован сайдбар (боковая панель) со списком всех точек аренды, синхронизированный с картой.

### 4.2. Модуль аренды самокатов
*   На странице детальной информации о точке аренды должен отображаться список всех самокатов в этой точке.
*   Для каждого самоката должна отображаться информация: модель, уникальный ID, статус, тематический дизайн (описание).
*   Пользователь должен иметь возможность арендовать самокат со статусом "Доступен" нажатием кнопки "Арендовать".
*   При аренде система должна:
    *   Проверить, что самокат доступен.
    *   Создать запись об аренде (Rental), связанную с пользователем и самокатом.
    *   Зафиксировать время начала аренды и координаты точки, где самокат был взят.
    *   Изменить статус самоката на "Арендован".
*   В личном кабинете пользователь должен видеть свою активную аренду (если есть) и историю завершенных аренд.
*   Пользователь должен иметь возможность завершить активную аренду (фактически "вернуть" самокат) нажатием кнопки "Завершить аренду".
*   При завершении аренды система должна:
    *   Зафиксировать время окончания аренды.
    *   Изменить статус самоката обратно на "Доступен" (или перевести его в точку возврата, если функционал будет расширен).
    *   Рассчитать длительность и стоимость аренды (для будущей интеграции с оплатой).

### 4.3. Модуль управления (для администратора)
*   CRUD (Создание, Чтение, Обновление, Удаление) функционал для сущностей:
    *   Пользователи.
    *   Точки аренды (с указанием координат на карте).
    *   Самокаты (с привязкой к точке, указанием модели, статуса, загрузкой изображения дизайна).
*   Просмотр общего журнала аренд с фильтрами по дате, пользователю, точке аренды.

### 4.4. Модуль аутентификации и регистрации
*   Стандартная форма регистрации нового пользователя (email/логин, пароль).
*   Форма входа в систему.
*   Сессионная аутентификация для поддержки состояния входа пользователя.

## 5. Нефункциональные требования

*   **Интуитивный интерфейс:** Основной акцент на удобстве использования карты и процесса аренды. Цель – чтобы пользователь мог взять самокат в аренду за минимальное количество шагов.
*   **Производительность карты:** Загрузка и отображение точек на карте должно происходить без заметных задержек (желательно < 2 секунд).
*   **Надежность операций аренды:** Процесс аренды и завершения аренды должен быть атомарным и гарантировать целостность данных (нельзя, чтобы два пользователя могли арендовать один и тот же самокат).
*   **Тип системы:** Веб-приложение, адаптированное для использования как на компьютерах, так и на мобильных устройствах (отзывчивый дизайн).
*   **Безопасность:** Базовая аутентификация по логину/email и паролю. Разграничение прав доступа между ролями "Клиент" и "Администратор".
*   **Ограничения MVP:**
    *   Первая версия является веб-приложением, без выделенных мобильных приложений.
    *   Отсутствие интеграции с платежными системами.
    *   Ручная модерация контента (тематических дизайнов самокатов) администратором через админ-панель Django.
    *   Отсутствует система отслеживания самокатов. Вместе с отменой аренды надо вернуть на точку(С добавление системы оплаты введем систему штрафов за оставленный самокат вне точки и добавим сотрудников которые будут собирать самокаты по городу).